attr = attrListToRender[a]; " " , attr.name, '="' , this } return "" }; node, prefixesInScope, defaultNs, defaultNsForPrefix, ancestorNamespaces var a, i, p, attr , res = [] , newDefaultNs = defaultNs , nsListToRender = [] , currNs = node.namespaceURI || "" ; // Utilizado para manejar el espacio de nombres del propio nodo if if -1 { "prefix" : node.prefix, "namespaceURI" : node.namespaceURI || } } else if //nuevo  por defecto ns. newDefaultNs = node.namespaceURI; ' xmlns="' , newDefaultNs, '"' } // Utilizado para manejar el espacio de nombres de los atributos. if for i = 0 attr = node.attributes[i]; // Para manejar todos los atributos prefijados que están incluidos en la lista de prefijos y donde el prefijo aún no está definido. // Los nuevos prefijos solo se pueden definir mediante `xmlns:`. if attr.prefix === "xmlns" -1 { "prefix" : attr.localName, "namespaceURI" } //Manejar todos los atributos prefijados que no son definiciones xmlns. //Donde el prefijo no está definido . if -1 && attr.prefix!= "xmlns" && attr.prefix!= "xml" { "prefix" : attr.prefix, "namespaceURI" 11